<!DOCTYPE html>
<html lang="ru">
<head>
  <meta charset="UTF-8">
  <title>Mini Bank</title>
  <style>
    body {
      margin: 0;
      font-family: Arial, sans-serif;
      background: #ffffff;
      color: #000000;
    }

    header {
      background: #FFDD2D;
      color: #000000;
      padding: 15px;
      text-align: center;
      font-size: 24px;
      font-weight: bold;
    }

    nav {
      display: flex;
      justify-content: center;
      background: #f6f6f6;
      border-bottom: 1px solid #ddd;
    }

    nav button {
      background: #FFDD2D;
      color: #000000;
      border: none;
      margin: 10px;
      padding: 10px 20px;
      cursor: pointer;
      font-size: 16px;
      border-radius: 6px;
      font-weight: bold;
    }

    nav button:hover {
      background: #f0c800;
    }

    section {
      display: none;
      padding: 20px;
    }

    section.active {
      display: block;
    }

    .card {
      background: #f6f6f6;
      border-radius: 10px;
      padding: 20px;
      margin: 15px 0;
    }

    .btn {
      background: #FFDD2D;
      color: #000000;
      border: none;
      padding: 10px 20px;
      margin-top: 10px;
      cursor: pointer;
      border-radius: 6px;
      font-weight: bold;
    }

    .btn:hover {
      background: #f0c800;
    }

    .output {
      margin-top: 10px;
      padding: 10px;
      background: #ffffff;
      border: 1px solid #ddd;
      border-radius: 6px;
    }

    input {
      padding: 8px;
      margin: 5px 0;
      border: 1px solid #ccc;
      border-radius: 6px;
      width: 200px;
    }

    /* –ò–≥—Ä–∞ */
    #gameCanvas {
      background: #eaeaea;
      display: block;
      margin: 20px auto;
      border: 2px solid #000;
    }

    #gameControls {
      text-align: center;
      margin: 10px;
    }

    #gameInfo {
      text-align: center;
      margin-top: 10px;
      font-size: 14px;
    }

    #gameInfo img {
      width: 30px;
      vertical-align: middle;
      margin: 0 5px;
    }
  </style>
</head>
<body>

  <header>üåê Mini Bank</header>

  <nav>
    <button onclick="showSection('tools')">–§–∏–Ω–∞–Ω—Å–æ–≤—ã–µ –∏–Ω—Å—Ç—Ä—É–º–µ–Ω—Ç—ã</button>
    <button onclick="showSection('kids')">–î–µ—Ç—Å–∫–∏–µ —Ñ—É–Ω–∫—Ü–∏–∏</button>
    <button onclick="showSection('game')">–ò–≥—Ä–æ–≤—ã–µ —ç–ª–µ–º–µ–Ω—Ç—ã</button>
  </nav>

  <!-- –§–∏–Ω–∞–Ω—Å–æ–≤—ã–µ –∏–Ω—Å—Ç—Ä—É–º–µ–Ω—Ç—ã -->
  <section id="tools" class="active">
    <div class="card">
      <h3>–ö–æ–Ω—Ç—Ä–æ–ª—å —Ä–∞—Å—Ö–æ–¥–æ–≤</h3>
      <input type="number" id="limit" placeholder="–í–≤–µ–¥–∏—Ç–µ –ª–∏–º–∏—Ç ‚ÇΩ"><br>
      <input type="number" id="spent" placeholder="–°–∫–æ–ª—å–∫–æ –ø–æ—Ç—Ä–∞—á–µ–Ω–æ ‚ÇΩ"><br>
      <button class="btn" onclick="checkLimit()">–ü—Ä–æ–≤–µ—Ä–∏—Ç—å</button>
      <div class="output" id="limitResult"></div>
    </div>

    <div class="card">
      <h3>–ê–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–æ–µ –±—é–¥–∂–µ—Ç–∏—Ä–æ–≤–∞–Ω–∏–µ (–∫–æ–Ω–≤–µ—Ä—Ç—ã)</h3>
      <button class="btn" onclick="calcEnvelopes()">–†–∞—Å—Å—á–∏—Ç–∞—Ç—å</button>
      <div class="output" id="envelopeResult"></div>
    </div>

    <div class="card">
      <h3>–£–ø—Ä–∞–≤–ª–µ–Ω–∏–µ –ø–æ–¥–ø–∏—Å–∫–∞–º–∏</h3>
      <p>–í–∞—à–∏ –∞–∫—Ç–∏–≤–Ω—ã–µ –ø–æ–¥–ø–∏—Å–∫–∏: Netflix, YouTube Premium, Spotify</p>
      <button class="btn" onclick="showSubs()">–ü–æ–∫–∞–∑–∞—Ç—å —É–≤–µ–¥–æ–º–ª–µ–Ω–∏—è</button>
      <div class="output" id="subsResult"></div>
    </div>

    <div class="card">
      <h3>–í—Ä–µ–º–µ–Ω–Ω—ã–µ –∫–∞—Ä—Ç—ã</h3>
      <button class="btn" onclick="genCard()">–°–æ–∑–¥–∞—Ç—å –∫–∞—Ä—Ç—É</button>
      <div class="output" id="cardResult"></div>
    </div>
  </section>

  <!-- –î–µ—Ç—Å–∫–∏–µ —Ñ—É–Ω–∫—Ü–∏–∏ -->
  <section id="kids">
    <div class="card">
      <h3>–ö–æ–ø–∏–ª–∫–∞ –Ω–∞ –º–µ—á—Ç—É</h3>
      <input type="text" id="dream" placeholder="–¶–µ–ª—å (–Ω–∞–ø—Ä–∏–º–µ—Ä: –ø—Ä–∏—Å—Ç–∞–≤–∫–∞)"><br>
      <input type="number" id="dreamGoal" placeholder="–°–∫–æ–ª—å–∫–æ –Ω—É–∂–Ω–æ ‚ÇΩ"><br>
      <input type="number" id="dreamSaved" placeholder="–°–∫–æ–ª—å–∫–æ —É–∂–µ –Ω–∞–∫–æ–ø–ª–µ–Ω–æ ‚ÇΩ"><br>
      <button class="btn" onclick="calcDream()">–ü–æ—Å—á–∏—Ç–∞—Ç—å</button>
      <div class="output" id="dreamResult"></div>
    </div>

    <div class="card">
      <h3>–ó–∞—Ä–∞–±–æ—Ç–æ–∫</h3>
      <p>–í—ã–ø–æ–ª–Ω–∏—Ç–µ –∑–∞–¥–∞–Ω–∏—è –∏ –ø–æ–ª—É—á–∏—Ç–µ –Ω–∞–≥—Ä–∞–¥—É.</p>
      <button class="btn" onclick="addEarnings()">–ü–æ–º–æ–≥ –≤ –¥–æ–º–µ (+100 ‚ÇΩ)</button>
      <button class="btn" onclick="addEarnings()">–ü—Ä–æ–π–¥–µ–Ω —Ç–µ—Å—Ç (+150 ‚ÇΩ)</button>
      <div class="output" id="earningsResult">–ë–∞–ª–∞–Ω—Å: 0 ‚ÇΩ</div>
    </div>

    <div class="card">
      <h3>–£—á–∏—Å—å –∏ –ø–æ–ª—É—á–∞–π</h3>
      <p>–í–æ–ø—Ä–æ—Å: —á—Ç–æ –ª—É—á—à–µ ‚Äî —Ç—Ä–∞—Ç–∏—Ç—å –≤—Å—ë —Å—Ä–∞–∑—É –∏–ª–∏ –æ—Ç–∫–ª–∞–¥—ã–≤–∞—Ç—å —á–∞—Å—Ç—å?</p>
      <button class="btn" onclick="quiz(true)">–û—Ç–∫–ª–∞–¥—ã–≤–∞—Ç—å —á–∞—Å—Ç—å</button>
      <button class="btn" onclick="quiz(false)">–¢—Ä–∞—Ç–∏—Ç—å –≤—Å—ë</button>
      <div class="output" id="quizResult"></div>
    </div>
  </section>

  <!-- –ò–≥—Ä–æ–≤—ã–µ —ç–ª–µ–º–µ–Ω—Ç—ã -->
  <section id="game">
    <div class="card">
      <h3>–ò–≥—Ä–∞: –ë–µ–≥–∏ –∏ –∫–æ–ø–∏ –¥–µ–Ω—å–≥–∏</h3>
      <div id="gameControls">
        <button class="btn" onclick="startGame()">‚ñ∂ –°—Ç–∞—Ä—Ç</button>
        <button class="btn" onclick="jump()">‚§¥ –ü—Ä—ã–∂–æ–∫</button>
        <button class="btn" onclick="stopGame()">‚èπ –ó–∞–≤–µ—Ä—à–∏—Ç—å</button>
      </div>
      <canvas id="gameCanvas" width="600" height="200"></canvas>
      <div class="output" id="gameBalance">–ë–∞–ª–∞–Ω—Å: 100 ‚ÇΩ</div>
      <div id="gameInfo">
        <p>
          <img src="https://cdn-icons-png.flaticon.com/512/616/616408.png">
          –ë–∞–Ω–¥–∏—Ç ‚Äî –∑–∞–±–∏—Ä–∞–µ—Ç –¥–µ–Ω—å–≥–∏  
          &nbsp;&nbsp;|&nbsp;&nbsp;  
          <img src="https://cdn-icons-png.flaticon.com/512/3135/3135706.png">
          –ë–∞–Ω–∫ ‚Äî –¥–æ–±–∞–≤–ª—è–µ—Ç +10%
        </p>
        <p>–£–ø—Ä–∞–≤–ª–µ–Ω–∏–µ: –ø—Ä–æ–±–µ–ª –∏–ª–∏ –∫–Ω–æ–ø–∫–∞ ¬´–ü—Ä—ã–∂–æ–∫¬ª</p>
      </div>
    </div>

    <div class="card">
      <h3>–î–µ–Ω–µ–∂–Ω—ã–π –ø–æ–º–æ—â–Ω–∏–∫-–±–æ—Ç</h3>
      <input type="text" id="botQuestion" placeholder="–ó–∞–¥–∞–π—Ç–µ –≤–æ–ø—Ä–æ—Å...">
      <button class="btn" onclick="askBot()">–°–ø—Ä–æ—Å–∏—Ç—å</button>
      <div class="output" id="botResult"></div>
    </div>
  </section>

  <script>
    // –ü–µ—Ä–µ–∫–ª—é—á–µ–Ω–∏–µ –≤–∫–ª–∞–¥–æ–∫
    function showSection(id) {
      document.querySelectorAll("section").forEach(sec => sec.classList.remove("active"));
      document.getElementById(id).classList.add("active");
    }

    // –ö–æ–Ω—Ç—Ä–æ–ª—å —Ä–∞—Å—Ö–æ–¥–æ–≤
    function checkLimit() {
      const limit = +document.getElementById("limit").value;
      const spent = +document.getElementById("spent").value;
      let msg = "";
      if (!limit || !spent) msg = "–í–≤–µ–¥–∏—Ç–µ –ª–∏–º–∏—Ç –∏ —Å—É–º–º—É!";
      else if (spent < limit * 0.9) msg = "–í—Å–µ —Ö–æ—Ä–æ—à–æ, —Ç—Ä–∞—Ç—ã –≤ –Ω–æ—Ä–º–µ ‚úÖ";
      else if (spent < limit) msg = "–í–Ω–∏–º–∞–Ω–∏–µ! –í—ã –±–ª–∏–∑–∫–∏ –∫ –ª–∏–º–∏—Ç—É ‚ö†Ô∏è";
      else msg = "–õ–∏–º–∏—Ç –ø—Ä–µ–≤—ã—à–µ–Ω ‚ùå";
      document.getElementById("limitResult").innerText = msg;
    }

    // –ö–æ–Ω–≤–µ—Ä—Ç—ã
    function calcEnvelopes() {
      const salary = 20000;
      const vacation = Math.round(salary * 0.15);
      const savings = salary - vacation;
      document.getElementById("envelopeResult").innerText =
        `–û—Ç–ª–æ–∂–µ–Ω–æ –Ω–∞ –æ—Ç–ø—É—Å–∫: ${vacation} ‚ÇΩ, –Ω–∞ —Å–±–µ—Ä–µ–∂–µ–Ω–∏—è: ${savings} ‚ÇΩ`;
    }

    // –ü–æ–¥–ø–∏—Å–∫–∏
    function showSubs() {
      document.getElementById("subsResult").innerText =
        "–ß–µ—Ä–µ–∑ 3 –¥–Ω—è —Å–ø–∏—à–µ—Ç—Å—è 599 ‚ÇΩ –∑–∞ Netflix!";
    }

    // –í—Ä–µ–º–µ–Ω–Ω–∞—è –∫–∞—Ä—Ç–∞
    function genCard() {
      const num = "**** **** **** " + Math.floor(1000 + Math.random() * 9000);
      document.getElementById("cardResult").innerText = "–°–æ–∑–¥–∞–Ω–∞ –≤—Ä–µ–º–µ–Ω–Ω–∞—è –∫–∞—Ä—Ç–∞: " + num;
    }

    // –ö–æ–ø–∏–ª–∫–∞
    function calcDream() {
      const goal = +document.getElementById("dreamGoal").value;
      const saved = +document.getElementById("dreamSaved").value;
      const dream = document.getElementById("dream").value;
      const left = goal - saved;
      document.getElementById("dreamResult").innerText =
        saved >= goal ? `–ü–æ–∑–¥—Ä–∞–≤–ª—è–µ–º! –¶–µ–ª—å "${dream}" –¥–æ—Å—Ç–∏–≥–Ω—É—Ç–∞ üéâ` :
        `–û—Å—Ç–∞–ª–æ—Å—å –Ω–∞–∫–æ–ø–∏—Ç—å: ${left} ‚ÇΩ`;
    }

    // –ó–∞—Ä–∞–±–æ—Ç–æ–∫
    let earnings = 0;
    function addEarnings() {
      earnings += Math.floor(100 + Math.random()*100);
      document.getElementById("earningsResult").innerText = `–ë–∞–ª–∞–Ω—Å: ${earnings} ‚ÇΩ`;
    }

    // –í–∏–∫—Ç–æ—Ä–∏–Ω–∞
    function quiz(correct) {
      document.getElementById("quizResult").innerText =
        correct ? "–ü—Ä–∞–≤–∏–ª—å–Ω–æ! –ü–æ–ª—É—á–∞–µ—Ç–µ 50 –±–∞–ª–ª–æ–≤ üéâ" : "–ù–µ–≤–µ—Ä–Ω–æ! –ü–æ–ø—Ä–æ–±—É–π—Ç–µ —Å–Ω–æ–≤–∞.";
    }

    // –ë–æ—Ç
    function askBot() {
      const q = document.getElementById("botQuestion").value.toLowerCase();
      let answer = "–Ø –Ω–µ –ø–æ–Ω—è–ª –≤–æ–ø—Ä–æ—Å ü§î";
      if (q.includes("—è –ª—é–±–ª—é —Ç–µ–±—è")) answer = "—è —Ç–µ–±—è —Ç–æ–∂–µ –ª—é–±–ª—é —Å–∏–º–ø–æ—Ç—è—à–∫–∞ –º–æ—è ‚ù§Ô∏è‚ù§Ô∏è‚ù§Ô∏è (–≠—Ç–æ –∞–¥—Ä–µ—Å–æ–≤–∞–Ω–æ —Ç–æ–ª—å–∫–æ –°–∞–±—Ä–∏–Ω–µ!!!)";
      else if (q.includes("–Ω–∞–∫–æ–ø–∏—Ç—å")) answer = "–õ—É—á—à–µ –æ—Ç–∫–ª–∞–¥—ã–≤–∞—Ç—å 20% –¥–æ—Ö–æ–¥–∞ –∫–∞–∂–¥—ã–π –º–µ—Å—è—Ü.";
      else if (q.includes("500")) answer = "–°–æ–≤–µ—Ç: –æ—Ç–ª–æ–∂–∏—Ç–µ 200 ‚ÇΩ, –æ—Å—Ç–∞–ª—å–Ω–æ–µ –Ω–∞ –µ–¥—É.";
      else if (q.includes("—Ñ–∞—Å—Ç—Ñ—É–¥")) answer = "–°–æ–∫—Ä–∞—Ç–∏—Ç–µ –ø–æ—Ö–æ–¥—ã –∏ –≥–æ—Ç–æ–≤—å—Ç–µ –¥–æ–º–∞.";
      document.getElementById("botResult").innerText = answer;
    }

    // ---- –ò–ì–†–ê "–ë–µ–≥–∏ –∏ –∫–æ–ø–∏ –¥–µ–Ω—å–≥–∏" ----
    const canvas = document.getElementById("gameCanvas");
    const ctx = canvas.getContext("2d");

    let player, obstacles, balance, frame, gameRunning, gameLoop;

    function initGame() {
      player = { x: 50, y: 150, size: 30, vy: 0, jumping: false };
      obstacles = [];
      balance = 100;
      frame = 0;
      gameRunning = true;
      document.getElementById("gameBalance").innerText = "–ë–∞–ª–∞–Ω—Å: " + balance + " ‚ÇΩ";
    }

    function drawPlayer() {
      ctx.fillStyle = "#000";
      ctx.fillRect(player.x, player.y, player.size, player.size);
    }

    function drawObstacle(obs) {
      if (obs.type === "bandit") {
        ctx.fillStyle = "red";
        ctx.fillRect(obs.x, obs.y, obs.size, obs.size);
      } else {
        ctx.fillStyle = "#FFDD2D";
        ctx.fillRect(obs.x, obs.y, obs.size, obs.size);
      }
    }

    function updateGame() {
      if (!gameRunning) return;

      frame++;
      ctx.clearRect(0, 0, canvas.width, canvas.height);

      // –∏–≥—Ä–æ–∫
      player.y += player.vy;
      player.vy += 1; // –≥—Ä–∞–≤–∏—Ç–∞—Ü–∏—è
      if (player.y > 150) {
        player.y = 150;
        player.vy = 0;
        player.jumping = false;
      }
      drawPlayer();

      // –Ω–æ–≤—ã–µ –ø—Ä–µ–ø—è—Ç—Å—Ç–≤–∏—è
      if (frame % 120 === 0) {
        const type = Math.random() < 0.5 ? "bandit" : "bank";
        obstacles.push({ x: 600, y: 150, size: 30, type });
      }

      // –¥–≤–∏–∂–µ–Ω–∏–µ –ø—Ä–µ–ø—è—Ç—Å—Ç–≤–∏–π
      obstacles.forEach(obs => {
        obs.x -= 5;
        drawObstacle(obs);

        // —Å—Ç–æ–ª–∫–Ω–æ–≤–µ–Ω–∏–µ
        if (
          player.x < obs.x + obs.size &&
          player.x + player.size > obs.x &&
          player.y < obs.y + obs.size &&
          player.y + player.size > obs.y
        ) {
          if (obs.type === "bandit") {
            balance -= Math.max(100, Math.floor(balance * 0.2));
          } else {
            balance += Math.floor(balance * 0.1);
          }
          obstacles = obstacles.filter(o => o !== obs);
        }
      });

      // —Ñ–∏–ª—å—Ç—Ä –≤—ã—à–µ–¥—à–∏—Ö –∑–∞ —ç–∫—Ä–∞–Ω
      obstacles = obstacles.filter(obs => obs.x + obs.size > 0);

      // –≤—ã–≤–æ–¥ –±–∞–ª–∞–Ω—Å–∞
      document.getElementById("gameBalance").innerText = "–ë–∞–ª–∞–Ω—Å: " + balance + " ‚ÇΩ";

      if (balance <= 0) {
        ctx.fillStyle = "black";
        ctx.font = "20px Arial";
        ctx.fillText("–ò–≥—Ä–∞ –æ–∫–æ–Ω—á–µ–Ω–∞! –ë–∞–ª–∞–Ω—Å –æ–±–Ω—É–ª–∏–ª—Å—è.", 150, 100);
        gameRunning = false;
        return;
      }

      gameLoop = requestAnimationFrame(updateGame);
    }

    function jump() {
      if (player && !player.jumping) {
        player.vy = -15;
        player.jumping = true;
      }
    }

    function startGame() {
      initGame();
      cancelAnimationFrame(gameLoop);
      updateGame();
    }

    function stopGame() {
      gameRunning = false;
      cancelAnimationFrame(gameLoop);
      ctx.fillStyle = "black";
      ctx.font = "20px Arial";
      ctx.fillText("–ò–≥—Ä–∞ –∑–∞–≤–µ—Ä—à–µ–Ω–∞.", 200, 100);
    }

    // –ø—Ä—ã–∂–æ–∫ –ø–æ –ø—Ä–æ–±–µ–ª—É
    document.addEventListener("keydown", e => {
      if (e.code === "Space") jump();
    });
  </script>
</body>
</html>
